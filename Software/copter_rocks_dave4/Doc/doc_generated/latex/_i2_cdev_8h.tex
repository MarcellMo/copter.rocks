\hypertarget{_i2_cdev_8h}{}\section{I2\+Cdev.\+h File Reference}
\label{_i2_cdev_8h}\index{I2\+Cdev.\+h@{I2\+Cdev.\+h}}
{\ttfamily \#include $<$xmc\+\_\+usic.\+h$>$}\\*
{\ttfamily \#include $<$xmc\+\_\+i2c.\+h$>$}\\*
{\ttfamily \#include $<$xmc\+\_\+gpio.\+h$>$}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{_i2_cdev_8h_a4d280e27f85e6acc207d88fdc58f0381}{setup\+I2\+C\+Interface\+F\+I\+FO} (X\+M\+C\+\_\+\+U\+S\+I\+C\+\_\+\+C\+H\+\_\+t $\ast$const i2c\+\_\+channel, const uint8\+\_\+t usic\+\_\+sda\+\_\+output, const uint8\+\_\+t usic\+\_\+scl\+\_\+output, X\+M\+C\+\_\+\+G\+P\+I\+O\+\_\+\+P\+O\+R\+T\+\_\+t $\ast$const port\+\_\+config, const uint8\+\_\+t pin\+\_\+number\+\_\+sda, const uint8\+\_\+t pin\+\_\+number\+\_\+scl, const X\+M\+C\+\_\+\+G\+P\+I\+O\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+t $\ast$const gpio\+\_\+config\+\_\+sda, const X\+M\+C\+\_\+\+G\+P\+I\+O\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+t $\ast$const gpio\+\_\+config\+\_\+scl, const X\+M\+C\+\_\+\+I2\+C\+\_\+\+C\+H\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+t $\ast$const pin\+\_\+config)
\begin{DoxyCompactList}\small\item\em I2C with F\+I\+F\+O-\/\+Buffer initialized using the X\+M\+C-\/\+Library. \end{DoxyCompactList}\item 
void \hyperlink{_i2_cdev_8h_add160918e7cf6f6cdd449039531efa6f}{setup\+I2\+C\+Interface} (X\+M\+C\+\_\+\+U\+S\+I\+C\+\_\+\+C\+H\+\_\+t $\ast$const i2c\+\_\+channel, const uint8\+\_\+t usic\+\_\+sda\+\_\+output, const uint8\+\_\+t usic\+\_\+scl\+\_\+output, X\+M\+C\+\_\+\+G\+P\+I\+O\+\_\+\+P\+O\+R\+T\+\_\+t $\ast$const port\+\_\+config, const uint8\+\_\+t pin\+\_\+number\+\_\+sda, const uint8\+\_\+t pin\+\_\+number\+\_\+scl, const X\+M\+C\+\_\+\+G\+P\+I\+O\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+t $\ast$const gpio\+\_\+config\+\_\+sda, const X\+M\+C\+\_\+\+G\+P\+I\+O\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+t $\ast$const gpio\+\_\+config\+\_\+scl, const X\+M\+C\+\_\+\+I2\+C\+\_\+\+C\+H\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+t $\ast$const pin\+\_\+config)
\begin{DoxyCompactList}\small\item\em I2C interface initialized using the X\+M\+C-\/\+Library. \end{DoxyCompactList}\item 
bool \hyperlink{_i2_cdev_8h_a01a4ed7fa0a53b6b41ad439a22af5aba}{I2\+Cdev\+\_\+write\+Byte} (X\+M\+C\+\_\+\+U\+S\+I\+C\+\_\+\+C\+H\+\_\+t $\ast$handle, uint8\+\_\+t dev\+Addr, uint8\+\_\+t reg\+Addr, uint8\+\_\+t data)
\begin{DoxyCompactList}\small\item\em Function for writing a byte into a register of an I2C device using the X\+M\+C-\/\+Library. \end{DoxyCompactList}\item 
int16\+\_\+t \hyperlink{_i2_cdev_8h_adbd27b3d4e59be581bd4090de8b500ef}{I2\+Cdev\+\_\+read\+Byte} (X\+M\+C\+\_\+\+U\+S\+I\+C\+\_\+\+C\+H\+\_\+t $\ast$handle, uint8\+\_\+t dev\+Addr, uint8\+\_\+t reg\+Addr)
\begin{DoxyCompactList}\small\item\em Function for reading a byte out of a register of an I2C device using the X\+M\+C-\/\+Library. \end{DoxyCompactList}\item 
int16\+\_\+t \hyperlink{_i2_cdev_8h_af6cbd7294202409eca423f937565d81b}{I2\+Cdev\+\_\+read\+Bytes} (X\+M\+C\+\_\+\+U\+S\+I\+C\+\_\+\+C\+H\+\_\+t $\ast$handle, uint8\+\_\+t dev\+Addr, uint8\+\_\+t reg\+Addr, uint8\+\_\+t length, uint8\+\_\+t $\ast$data)
\begin{DoxyCompactList}\small\item\em Function for reading an amount of bytes out of a register of an I2C device -\/ with assistance of the X\+M\+C-\/\+Library. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{I2\+Cdev.\+h@{I2\+Cdev.\+h}!I2\+Cdev\+\_\+read\+Byte@{I2\+Cdev\+\_\+read\+Byte}}
\index{I2\+Cdev\+\_\+read\+Byte@{I2\+Cdev\+\_\+read\+Byte}!I2\+Cdev.\+h@{I2\+Cdev.\+h}}
\subsubsection[{\texorpdfstring{I2\+Cdev\+\_\+read\+Byte(\+X\+M\+C\+\_\+\+U\+S\+I\+C\+\_\+\+C\+H\+\_\+t $\ast$handle, uint8\+\_\+t dev\+Addr, uint8\+\_\+t reg\+Addr)}{I2Cdev_readByte(XMC_USIC_CH_t *handle, uint8_t devAddr, uint8_t regAddr)}}]{\setlength{\rightskip}{0pt plus 5cm}int16\+\_\+t I2\+Cdev\+\_\+read\+Byte (
\begin{DoxyParamCaption}
\item[{X\+M\+C\+\_\+\+U\+S\+I\+C\+\_\+\+C\+H\+\_\+t $\ast$}]{handle, }
\item[{uint8\+\_\+t}]{dev\+Addr, }
\item[{uint8\+\_\+t}]{reg\+Addr}
\end{DoxyParamCaption}
)}\hypertarget{_i2_cdev_8h_adbd27b3d4e59be581bd4090de8b500ef}{}\label{_i2_cdev_8h_adbd27b3d4e59be581bd4090de8b500ef}


Function for reading a byte out of a register of an I2C device using the X\+M\+C-\/\+Library. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em handle} & pointer to U\+S\+IC channel structure \\
\hline
\mbox{\tt in}  & {\em dev\+Addr} & Contains the device address (slave address) \\
\hline
\mbox{\tt in}  & {\em reg\+Addr} & Contains the address of the desired starting register \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Return type is int16\+\_\+t 

Returned value is the data of a desired register address
\end{DoxyReturn}
Reads a byte out of a register from an I2C device \index{I2\+Cdev.\+h@{I2\+Cdev.\+h}!I2\+Cdev\+\_\+read\+Bytes@{I2\+Cdev\+\_\+read\+Bytes}}
\index{I2\+Cdev\+\_\+read\+Bytes@{I2\+Cdev\+\_\+read\+Bytes}!I2\+Cdev.\+h@{I2\+Cdev.\+h}}
\subsubsection[{\texorpdfstring{I2\+Cdev\+\_\+read\+Bytes(\+X\+M\+C\+\_\+\+U\+S\+I\+C\+\_\+\+C\+H\+\_\+t $\ast$handle, uint8\+\_\+t dev\+Addr, uint8\+\_\+t reg\+Addr, uint8\+\_\+t length, uint8\+\_\+t $\ast$data)}{I2Cdev_readBytes(XMC_USIC_CH_t *handle, uint8_t devAddr, uint8_t regAddr, uint8_t length, uint8_t *data)}}]{\setlength{\rightskip}{0pt plus 5cm}int16\+\_\+t I2\+Cdev\+\_\+read\+Bytes (
\begin{DoxyParamCaption}
\item[{X\+M\+C\+\_\+\+U\+S\+I\+C\+\_\+\+C\+H\+\_\+t $\ast$}]{handle, }
\item[{uint8\+\_\+t}]{dev\+Addr, }
\item[{uint8\+\_\+t}]{reg\+Addr, }
\item[{uint8\+\_\+t}]{length, }
\item[{uint8\+\_\+t $\ast$}]{data}
\end{DoxyParamCaption}
)}\hypertarget{_i2_cdev_8h_af6cbd7294202409eca423f937565d81b}{}\label{_i2_cdev_8h_af6cbd7294202409eca423f937565d81b}


Function for reading an amount of bytes out of a register of an I2C device -\/ with assistance of the X\+M\+C-\/\+Library. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em handle} & Constant pointer to U\+S\+IC channel structure \\
\hline
\mbox{\tt in}  & {\em dev\+Addr} & Contains the device address (master address) \\
\hline
\mbox{\tt in}  & {\em reg\+Addr} & Contains the address of the desired register \\
\hline
\mbox{\tt in}  & {\em length} & The number of bytes to be read \\
\hline
\mbox{\tt in}  & {\em data} & Pointer to the variable for saving the read data \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Return type is int16\+\_\+t 

Returned value is the amount of successfully read bytes
\end{DoxyReturn}
Reads data (more bytes) from a register of an I2C device

You can choose the start address and the amount of bytes to be read \index{I2\+Cdev.\+h@{I2\+Cdev.\+h}!I2\+Cdev\+\_\+write\+Byte@{I2\+Cdev\+\_\+write\+Byte}}
\index{I2\+Cdev\+\_\+write\+Byte@{I2\+Cdev\+\_\+write\+Byte}!I2\+Cdev.\+h@{I2\+Cdev.\+h}}
\subsubsection[{\texorpdfstring{I2\+Cdev\+\_\+write\+Byte(\+X\+M\+C\+\_\+\+U\+S\+I\+C\+\_\+\+C\+H\+\_\+t $\ast$handle, uint8\+\_\+t dev\+Addr, uint8\+\_\+t reg\+Addr, uint8\+\_\+t data)}{I2Cdev_writeByte(XMC_USIC_CH_t *handle, uint8_t devAddr, uint8_t regAddr, uint8_t data)}}]{\setlength{\rightskip}{0pt plus 5cm}bool I2\+Cdev\+\_\+write\+Byte (
\begin{DoxyParamCaption}
\item[{X\+M\+C\+\_\+\+U\+S\+I\+C\+\_\+\+C\+H\+\_\+t $\ast$}]{handle, }
\item[{uint8\+\_\+t}]{dev\+Addr, }
\item[{uint8\+\_\+t}]{reg\+Addr, }
\item[{uint8\+\_\+t}]{data}
\end{DoxyParamCaption}
)}\hypertarget{_i2_cdev_8h_a01a4ed7fa0a53b6b41ad439a22af5aba}{}\label{_i2_cdev_8h_a01a4ed7fa0a53b6b41ad439a22af5aba}


Function for writing a byte into a register of an I2C device using the X\+M\+C-\/\+Library. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em handle} & pointer to U\+S\+IC channel structure \\
\hline
\mbox{\tt in}  & {\em dev\+Addr} & Contains the device address (slave address) \\
\hline
\mbox{\tt in}  & {\em reg\+Addr} & Contains the address of the desired register \\
\hline
\mbox{\tt in}  & {\em data} & Data to be transmitted \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Return type is bool 

Returned value is always T\+R\+UE at the end
\end{DoxyReturn}
Writes a byte into a register of an I2C device \index{I2\+Cdev.\+h@{I2\+Cdev.\+h}!setup\+I2\+C\+Interface@{setup\+I2\+C\+Interface}}
\index{setup\+I2\+C\+Interface@{setup\+I2\+C\+Interface}!I2\+Cdev.\+h@{I2\+Cdev.\+h}}
\subsubsection[{\texorpdfstring{setup\+I2\+C\+Interface(\+X\+M\+C\+\_\+\+U\+S\+I\+C\+\_\+\+C\+H\+\_\+t $\ast$const i2c\+\_\+channel, const uint8\+\_\+t usic\+\_\+sda\+\_\+output, const uint8\+\_\+t usic\+\_\+scl\+\_\+output, X\+M\+C\+\_\+\+G\+P\+I\+O\+\_\+\+P\+O\+R\+T\+\_\+t $\ast$const port\+\_\+config, const uint8\+\_\+t pin\+\_\+number\+\_\+sda, const uint8\+\_\+t pin\+\_\+number\+\_\+scl, const X\+M\+C\+\_\+\+G\+P\+I\+O\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+t $\ast$const gpio\+\_\+config\+\_\+sda, const X\+M\+C\+\_\+\+G\+P\+I\+O\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+t $\ast$const gpio\+\_\+config\+\_\+scl, const X\+M\+C\+\_\+\+I2\+C\+\_\+\+C\+H\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+t $\ast$const pin\+\_\+config)}{setupI2CInterface(XMC_USIC_CH_t *const i2c_channel, const uint8_t usic_sda_output, const uint8_t usic_scl_output, XMC_GPIO_PORT_t *const port_config, const uint8_t pin_number_sda, const uint8_t pin_number_scl, const XMC_GPIO_CONFIG_t *const gpio_config_sda, const XMC_GPIO_CONFIG_t *const gpio_config_scl, const XMC_I2C_CH_CONFIG_t *const pin_config)}}]{\setlength{\rightskip}{0pt plus 5cm}void setup\+I2\+C\+Interface (
\begin{DoxyParamCaption}
\item[{X\+M\+C\+\_\+\+U\+S\+I\+C\+\_\+\+C\+H\+\_\+t $\ast$const}]{i2c\+\_\+channel, }
\item[{const uint8\+\_\+t}]{usic\+\_\+sda\+\_\+output, }
\item[{const uint8\+\_\+t}]{usic\+\_\+scl\+\_\+output, }
\item[{X\+M\+C\+\_\+\+G\+P\+I\+O\+\_\+\+P\+O\+R\+T\+\_\+t $\ast$const}]{port\+\_\+config, }
\item[{const uint8\+\_\+t}]{pin\+\_\+number\+\_\+sda, }
\item[{const uint8\+\_\+t}]{pin\+\_\+number\+\_\+scl, }
\item[{const X\+M\+C\+\_\+\+G\+P\+I\+O\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+t $\ast$const}]{gpio\+\_\+config\+\_\+sda, }
\item[{const X\+M\+C\+\_\+\+G\+P\+I\+O\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+t $\ast$const}]{gpio\+\_\+config\+\_\+scl, }
\item[{const X\+M\+C\+\_\+\+I2\+C\+\_\+\+C\+H\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+t $\ast$const}]{pin\+\_\+config}
\end{DoxyParamCaption}
)}\hypertarget{_i2_cdev_8h_add160918e7cf6f6cdd449039531efa6f}{}\label{_i2_cdev_8h_add160918e7cf6f6cdd449039531efa6f}


I2C interface initialized using the X\+M\+C-\/\+Library. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em i2c\+\_\+channel} & Constant pointer to the U\+S\+IC communication channel \\
\hline
\mbox{\tt in}  & {\em usic\+\_\+sda\+\_\+output} & U\+S\+IC Data-\/\+P\+IN \\
\hline
\mbox{\tt in}  & {\em usic\+\_\+scl\+\_\+output} & U\+S\+IC Clock-\/\+P\+IN \\
\hline
\mbox{\tt in}  & {\em port\+\_\+config} & Constant pointer to the G\+P\+I\+O-\/\+Port \\
\hline
\mbox{\tt in}  & {\em pin\+\_\+number\+\_\+sda} & P\+I\+N-\/number of data-\/\+P\+IN \\
\hline
\mbox{\tt in}  & {\em pin\+\_\+number\+\_\+scl} & P\+I\+N-\/number of clock-\/\+P\+IN \\
\hline
\mbox{\tt in}  & {\em gpio\+\_\+config\+\_\+sda} & Constant pointer to G\+P\+IO channel structure of the data-\/\+P\+IN \\
\hline
\mbox{\tt in}  & {\em gpio\+\_\+config\+\_\+scl} & Constant pointer to G\+P\+IO channel structure of the clock-\/\+P\+IN \\
\hline
\mbox{\tt in}  & {\em pin\+\_\+config} & Constant pointer to I2C channel structure\\
\hline
\end{DoxyParams}
Initializes the I2C channel

Pin-\/\+Configuration is being done

NO F\+I\+F\+O-\/\+Buffer is included! \index{I2\+Cdev.\+h@{I2\+Cdev.\+h}!setup\+I2\+C\+Interface\+F\+I\+FO@{setup\+I2\+C\+Interface\+F\+I\+FO}}
\index{setup\+I2\+C\+Interface\+F\+I\+FO@{setup\+I2\+C\+Interface\+F\+I\+FO}!I2\+Cdev.\+h@{I2\+Cdev.\+h}}
\subsubsection[{\texorpdfstring{setup\+I2\+C\+Interface\+F\+I\+F\+O(\+X\+M\+C\+\_\+\+U\+S\+I\+C\+\_\+\+C\+H\+\_\+t $\ast$const i2c\+\_\+channel, const uint8\+\_\+t usic\+\_\+sda\+\_\+output, const uint8\+\_\+t usic\+\_\+scl\+\_\+output, X\+M\+C\+\_\+\+G\+P\+I\+O\+\_\+\+P\+O\+R\+T\+\_\+t $\ast$const port\+\_\+config, const uint8\+\_\+t pin\+\_\+number\+\_\+sda, const uint8\+\_\+t pin\+\_\+number\+\_\+scl, const X\+M\+C\+\_\+\+G\+P\+I\+O\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+t $\ast$const gpio\+\_\+config\+\_\+sda, const X\+M\+C\+\_\+\+G\+P\+I\+O\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+t $\ast$const gpio\+\_\+config\+\_\+scl, const X\+M\+C\+\_\+\+I2\+C\+\_\+\+C\+H\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+t $\ast$const pin\+\_\+config)}{setupI2CInterfaceFIFO(XMC_USIC_CH_t *const i2c_channel, const uint8_t usic_sda_output, const uint8_t usic_scl_output, XMC_GPIO_PORT_t *const port_config, const uint8_t pin_number_sda, const uint8_t pin_number_scl, const XMC_GPIO_CONFIG_t *const gpio_config_sda, const XMC_GPIO_CONFIG_t *const gpio_config_scl, const XMC_I2C_CH_CONFIG_t *const pin_config)}}]{\setlength{\rightskip}{0pt plus 5cm}void setup\+I2\+C\+Interface\+F\+I\+FO (
\begin{DoxyParamCaption}
\item[{X\+M\+C\+\_\+\+U\+S\+I\+C\+\_\+\+C\+H\+\_\+t $\ast$const}]{i2c\+\_\+channel, }
\item[{const uint8\+\_\+t}]{usic\+\_\+sda\+\_\+output, }
\item[{const uint8\+\_\+t}]{usic\+\_\+scl\+\_\+output, }
\item[{X\+M\+C\+\_\+\+G\+P\+I\+O\+\_\+\+P\+O\+R\+T\+\_\+t $\ast$const}]{port\+\_\+config, }
\item[{const uint8\+\_\+t}]{pin\+\_\+number\+\_\+sda, }
\item[{const uint8\+\_\+t}]{pin\+\_\+number\+\_\+scl, }
\item[{const X\+M\+C\+\_\+\+G\+P\+I\+O\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+t $\ast$const}]{gpio\+\_\+config\+\_\+sda, }
\item[{const X\+M\+C\+\_\+\+G\+P\+I\+O\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+t $\ast$const}]{gpio\+\_\+config\+\_\+scl, }
\item[{const X\+M\+C\+\_\+\+I2\+C\+\_\+\+C\+H\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+t $\ast$const}]{pin\+\_\+config}
\end{DoxyParamCaption}
)}\hypertarget{_i2_cdev_8h_a4d280e27f85e6acc207d88fdc58f0381}{}\label{_i2_cdev_8h_a4d280e27f85e6acc207d88fdc58f0381}


I2C with F\+I\+F\+O-\/\+Buffer initialized using the X\+M\+C-\/\+Library. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em i2c\+\_\+channel} & Constant pointer to the U\+S\+IC communication channel \\
\hline
\mbox{\tt in}  & {\em usic\+\_\+sda\+\_\+output} & U\+S\+IC Data-\/\+P\+IN \\
\hline
\mbox{\tt in}  & {\em usic\+\_\+scl\+\_\+output} & U\+S\+IC Clock-\/\+P\+IN \\
\hline
\mbox{\tt in}  & {\em port\+\_\+config} & Constant pointer to the G\+P\+I\+O-\/\+Port \\
\hline
\mbox{\tt in}  & {\em pin\+\_\+number\+\_\+sda} & P\+I\+N-\/number of data-\/\+P\+IN \\
\hline
\mbox{\tt in}  & {\em pin\+\_\+number\+\_\+scl} & P\+I\+N-\/number of clock-\/\+P\+IN \\
\hline
\mbox{\tt in}  & {\em gpio\+\_\+config\+\_\+sda} & Constant pointer to G\+P\+IO channel structure of the data-\/\+P\+IN \\
\hline
\mbox{\tt in}  & {\em gpio\+\_\+config\+\_\+scl} & Constant pointer to G\+P\+IO channel structure of the clock-\/\+P\+IN \\
\hline
\mbox{\tt in}  & {\em pin\+\_\+config} & Constant pointer to I2C channel structure\\
\hline
\end{DoxyParams}
Initializes the I2C channel and the F\+I\+F\+O-\/\+Buffer

Pin-\/\+Configuration is being done

F\+I\+FO size\+: 32 words 